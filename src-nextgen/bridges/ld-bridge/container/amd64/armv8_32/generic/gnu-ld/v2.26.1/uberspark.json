/*
    uberSpark code bridges json definition
*/

{
		"uberspark.manifest.namespace" : [ "uberspark-bridge-ld" ],
		"uberspark.manifest.version_min" : "any",
		"uberspark.manifest.version_max" : "any",
	
	"uberspark-bridge-ld" : {
		/* bridge header */
		"bridge-hdr":{
			"category" : "container",
			"name" : "gnu-ld",
			"executable_name" : "arm-linux-gnueabihf-ld",
			"dev_environment" : "amd64",
			"arch" : "armv8_32",
			"cpu" : "generic",
			"version" : "v2.26.1",
			"path" : ".",
		        "parameters" : [
			],
			"container_filename" : "uberspark_bridges.Dockerfile"
		},

		"bridge_cmd" : [
			"export var_bridge_input_files",
			"var_bridge_input_files=\" @@BRIDGE_INPUT_FILES@@ \"",
			"echo \"Linking @@BRIDGE_BINARY_FILENAME@@ ...\"",
			"arm-linux-gnueabihf-ld ${var_bridge_input_files} -T @@BRIDGE_LSCRIPT_FILENAME@@ -o @@BRIDGE_BINARY_FILENAME@@ @@BRIDGE_CCLIB_FILENAME@@",
			"echo \"Linking @@BRIDGE_BINARY_FLAT_FILENAME@@ ...\"",
			"arm-linux-gnueabihf-objcopy -O binary @@BRIDGE_BINARY_FILENAME@@ @@BRIDGE_BINARY_FLAT_FILENAME@@"
		] 



	}

}
