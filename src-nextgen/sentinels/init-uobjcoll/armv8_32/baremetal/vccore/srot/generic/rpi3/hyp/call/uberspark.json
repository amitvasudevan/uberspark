/*
    uberspark sentinel manifest (armv8_32/generic)
    author: amit vasudevan (amitvasudevan@acm.org)
*/

{

	/* manifest header */
	"uberspark-manifest":{
		"namespace" : [ "uberspark-sentinel" ],
		"version_min" : "any",
		"version_max" : "any"
	},

    "uberspark-sentinel" : {

		"namespace" : "uberspark/sentinels/init-uobjcoll/baremetal/vccore/srot/armv8_32/generic/rpi3/hyp/call",
		"platform" : "rpi3",
		"arch" : "armv8_32",
        "cpu" : "generic",
        "sizeof-code" : "0x1000", 

        /*  sentinel code template 

            parameters: 
            PUBLICMETHOD_ADDR = address of public method within uobj/uobjcoll
        */ 
        "code": "
            /* sentinel size = SENTINEL_SIZE */
            ldr r0, = PUBLICMETHOD_ADDR
            mov pc, r0
        ",

        /*  sentinel library code template 

            parameters: 
            PUBLICMETHOD_SENTINEL_ADDR = address of public method sentinel
        */ 
        "libcode": "
            ldr r0, = PUBLICMETHOD_SENTINEL_ADDR
            mov pc, r0
        "
    }


}
